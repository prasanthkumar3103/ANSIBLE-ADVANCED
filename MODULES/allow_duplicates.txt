Role Duplication and Execution:

Ansible will only allow a role to execute once, even if defined multiple times, if the parameters defined on the role are not different for each definition. For example:

---
- hosts: webservers
  roles:
  - foo
  - foo		

Given the above, the role foo will only be run once.

To make roles run more than once, there are two options:

Pass different parameters in each role definition.
Add allow_duplicates: true to the meta/main.yml file for the role.


Example 2 - using allow_duplicates: true:

# playbook.yml
---
- hosts: webservers
  roles:
  - foo
  - foo

# roles/foo/meta/main.yml
---
allow_duplicates: true